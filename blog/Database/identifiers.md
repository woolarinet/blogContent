---
title: '식별자'
category: 'Database'
desc: '식별자 기본 개념'
date: '2021-08-20'
thumb: 'database'
---

# 식별자
- 하나의 엔터티에 구성되어 있는 여러 개 속성 중, 엔터티를 대표할 수 있는 속성
- 하나의 엔터티는 하나의 유일 식별자가 존재해야한다.
- **식별자** 는 논리 데이터 모델링 단계에서 사용하며 **키(key)** 는 물리 데이터 모델링 단계에서 사용한다.
## 특징
- 유일성
  - 주식별자에 의해 엔터티내에 모든 인스턴스들을 유일하게 구분한다.
- 최소성
  - 주식별자를 구성하는 속성의 수는 유일성을 만족하는 최소의 수가 되어야 한다.
- 불변성
  - 주식별자가 한번 특정 엔터티에 지정되면 그 식별자의 값은 변하지 않는다.
- 존재성
  - 주식별자가 지정되면 반드시 그 값은 null이 될 수 없다.
## 분류
- 대표성 여부
  - 주식별자
    - 엔터티 내에서 각 인스턴스를 구분할 수 있는 구분자이며 타 엔터티와 참조관계를 연결
  - 보조식별자
    - 엔터티 내에서 대표성을 가지지 못해 참조관계 연결을 하지 못한다.
- 스스로 생성여부
  - 내부식별자
    - 엔터티 내부에서 스스로 만들어지는 식별자
  - 외부식별자
    - 타 엔터티와의 관계를 통해 타 엔터티로부터 받아오는 식별자
- 속성의 수
  - 단일 식별자
    - 하나의 속성으로 구성
  - 복합식별자
    - 둘 이상의 속성으로 구성
- 대체여부
  - 본질식별자
    - 업무에 의해 만들어지는 식별자
  - 인조식별자
    - 업무적으로 만들어지지는 않지만 인위적으로 만든 식별자
### 표기법
![erd.png](https://raw.githubusercontent.com/woolarinet/blog_content/main/images/Database/identifiers/1.png)

## 주식별자 도출기준
- 해당 업무에서 자주 이용되는 속성을 주식별자로 지정
  - ex) 사원 엔터티의 사원번호
- 명칭, 내역 등과 같이 이름으로 기술되는 것은 피함
  - ex) 부서이름이 많은 상황에서 부서이름을 주식별자로 지정하는 것을 피한다.
- 속성의 수가 많아지지 않도록 함
  - 주식별자가 여러 개의 복잡한 속성을 가지고 있을 때, 이를 조합하여 하나의 인조식별자를 생성하는 것이 더 나을 수 있다.

## 식별자관계와 비식별자관계
- 식별자관계
  - 부모로부터 받은 식별자를 자식엔터티의 주식별자로 이용하는 경우는 null값이 오면 안되므로 반드시 부모엔터티가 생성되어야 자기 자신의 엔터티가 생성되는 경우이다.
  - 부모로부터 받은 속성을 자식엔터티가 주식별자로 사용한다면 1:1 관계, 다른 부모에게도 받은 속성을 포함하거나 스스로 가지고 있는 속성과 함께 주식별자로 구성되는 경우는 1:M 관계가 된다.
  - **식별자관계**로만 설정할 경우, 데이터 모델의 PK속성 수는 모델의 흐름이 길어질 수록 증가할 수 밖에 없는 구조를 가지게 되므로 개발 시에 SQL문의 조건절이 엄청나게 길어지는 경우가 생긴다. 이는 복잡성과 오류가능성을 유발시킬 수 있다.

    ![erd.png](https://raw.githubusercontent.com/woolarinet/blog_content/main/images/Database/identifiers/2.png)
- 비식별자관계
  - 부모로부터 속성을 받았지만 주식별자로 사용하지 않고 일반적인 속성으로만 사용하는 경우
  - 부모가 자식만 남겨두고 먼저 소멸될 수 있는 경우

    ![erd.png](https://raw.githubusercontent.com/woolarinet/blog_content/main/images/Database/identifiers/3.png)
  - 자식엔터티에 주식별자로 사용하여도 되지만 자식엔터티에서 별도의 주식별자를 생성하는 것이 더 유리하다고 판단되는 경우

    ![erd.png](https://raw.githubusercontent.com/woolarinet/blog_content/main/images/Database/identifiers/4.png)
  - **비식별자관계**로만 설정할 경우, 자식엔터티로 상속이 되지 않아 자식엔터티에서 데이터를 처리할 때 쓸데없이 부모엔터티까지 찾아가야 하는 경우가 발생할 수 있다.
### 식별자관계와 비식별자관계 모델링
- 실제 프로젝트를 전개할 때 식별자관계에서 비식별자관계를 파악하는 기술이 중요하다.

  ![erd.png](https://raw.githubusercontent.com/woolarinet/blog_content/main/images/Database/identifiers/5.png)

  - 이와 같이 식별자관계로 모든 관계가 연결되면서 위 조건에 해당할 경우 비식별자관계로 조정하면 된다고 한다.
  - 여기서 제일 중요한 요인은 자식엔터티의 독립된 주식별자 구성이 필요한지를 분석하는 부분이다. 독립적으로 주식별자를 구성한다는 의미는 업무적 필요성과 성능상 필요어부를 모두 포함하는 의미로 이해하면 된다.

### 식별자와 비식별자의 비교

![erd.png](https://raw.githubusercontent.com/woolarinet/blog_content/main/images/Database/identifiers/6.png)

## Reference
- SQL 개발자 기본서